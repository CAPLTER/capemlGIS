<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>create a template as a csv file for supplying code definition
metadata for spatial rasters (if raster values are categorical). — write_raster_factors • capemlGIS</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="create a template as a csv file for supplying code definition
metadata for spatial rasters (if raster values are categorical). — write_raster_factors"><meta property="og:description" content="write_raster_factors creates a template as a csv file for
supplying code definition metadata for spatial rasters if raster values are
categorical."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">capemlGIS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/create_spatialRaster.html">create_spatialRaster</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>create a template as a csv file for supplying code definition
metadata for spatial rasters (if raster values are categorical).</h1>
    
    <div class="hidden name"><code>write_raster_factors.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>write_raster_factors creates a template as a csv file for
supplying code definition metadata for spatial rasters if raster values are
categorical.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">write_raster_factors</span><span class="op">(</span></span>
<span>  buildFromFile <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">rangeStart</span>,</span>
<span>  <span class="va">rangeEnd</span>,</span>
<span>  <span class="va">rasterFile</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>buildFromFile</dt>
<dd><p>Logical indicating whether the raster categories should
be constructed from the contents of the raster (TRUE) or if the user will
provide the range of categories (FALSE, default). If TRUE, the function
will identify the smallest and largest raster values, and construct a
sequence from these end points.</p></dd>


<dt>rangeStart</dt>
<dd><p>Starting range of categorical variables when provided by
the user.</p></dd>


<dt>rangeEnd</dt>
<dd><p>End range of categorical variables when provided by the user.</p></dd>


<dt>rasterFile</dt>
<dd><p>Quoted full path to raster file. This parameter is required
regardless of whether the template is build from user-provided values or
raster content.</p></dd>


<dt>overwrite</dt>
<dd><p>A logical to force creating the template from raster content
when raster values are not integers. When generating categorical variables
from raster content, the function will identify the lowest and highest
raster values. By generating the template content from the raster content,
the user is indicating that the raster values are categorical. As such, the
resulting values should be integers. The function will stop if it detects
that the lowest or highest value is not an integer, but this can be
overwritten by setting overwrite = TRUE.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A template for providing code definition metadata as a csv file with
  the file name of the raster + "_factors.csv" is created in the directory
  where the raster resides.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The csv template generated by write_raster_factors includes an
arbitrary field name (raster_value). The number of categories can be
estimated from the contents of the raster (buildFromFile = TRUE), or a range
of categorical values (e.g., 1 through 15) can be provided by the user
(buildFromFile = FALSE). If the user provides the range of categorical
variables, the template will be constructed from the lowest to the highest
number provided in increments of one but the template can be edited
appropriately as constructed if this is not appropriate (e.g., remove 2 from
the sequence if 2 is not in fact a categorial value included in the raster).
The template supports the ability to provide a definition for each level.
The csv file is written with the name of the raster file + "_factors". The
create_spatialRaster function will search for this file when creating a EML
spatial raster entity.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>Constructing the template from raster content (i.e., buildFromFile =
TRUE) can be extremely computationally and time intensive for large rasters.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># example: write raster factors template file, allowing the function to</span></span></span>
<span class="r-in"><span><span class="co"># identify the unique raster values:</span></span></span>
<span class="r-in"><span><span class="fu">write_raster_factors</span><span class="op">(</span>buildFromFile <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                     rasterFile <span class="op">=</span> <span class="st">'~/Desktop/smaller_raster.tif'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># example: write raster factors template file, with the user setting the</span></span></span>
<span class="r-in"><span><span class="co"># starting and ending range of raster values:</span></span></span>
<span class="r-in"><span><span class="fu">write_raster_factors</span><span class="op">(</span>rangeStart <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                     rangeEnd <span class="op">=</span> <span class="fl">12</span>,</span></span>
<span class="r-in"><span>                     rasterFile <span class="op">=</span> <span class="st">'~/Desktop/smaller_raster.tif'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># example: write raster factors template file, with the user setting the</span></span></span>
<span class="r-in"><span><span class="co"># starting and ending range of raster values, and overwriting an existing</span></span></span>
<span class="r-in"><span><span class="co"># raster factors template file:</span></span></span>
<span class="r-in"><span><span class="fu">write_raster_factors</span><span class="op">(</span>rangeStart <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                     rangeEnd <span class="op">=</span> <span class="fl">12</span>,</span></span>
<span class="r-in"><span>                     rasterFile <span class="op">=</span> <span class="st">'~/Desktop/smaller_raster.tif'</span>,</span></span>
<span class="r-in"><span>                     overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by S Earl.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>


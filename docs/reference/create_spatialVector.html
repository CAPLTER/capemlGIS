<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>create_spatialVector — create_spatialVector • capemlGIS</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="create_spatialVector — create_spatialVector" />
<meta property="og:description" content="create_spatialVector generates a EML entity of type
  spatialVector" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">capemlGIS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/create_spatialRaster.html">create_spatialRaster</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>create_spatialVector</h1>
    
    <div class="hidden name"><code>create_spatialVector.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>create_spatialVector generates a EML entity of type
  spatialVector</p>
    </div>

    <pre class="usage"><span class='fu'>create_spatialVector</span><span class='op'>(</span>
  <span class='va'>svname</span>,
  <span class='va'>description</span>,
  <span class='va'>geoDescription</span>,
  baseURL <span class='op'>=</span> <span class='st'>"https://data.gios.asu.edu/datasets/cap/"</span>,
  projectNaming <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>svname</th>
      <td><p>(character) The unquoted name of the spatial data object in the R
environment.</p></td>
    </tr>
    <tr>
      <th>description</th>
      <td><p>(character) Description of the vector resource.</p></td>
    </tr>
    <tr>
      <th>geoDescription</th>
      <td><p>(character) A textual description of the geographic study area of the
vector. This parameter allows the user to overwrite the
geographicDesciption value provided in the project config.yaml.</p></td>
    </tr>
    <tr>
      <th>baseURL</th>
      <td><p>(character) The base path of the web-accessible location of the data file;
the name of the resulting file will be passed to the base path to generate
a web-resolvable file path. This parameter is required with the default set
to the CAP LTER file path</p></td>
    </tr>
    <tr>
      <th>projectNaming</th>
      <td><p>(logical) Logical indicating if the vector file (or parent directory if
zipFiles == TRUE) should be renamed per the style used by the CAP LTER
(default) with the project id + base file name + md5sum + file extension.
The passed file or directory name will be used if this parameter is set to
FALSE.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>EML spatialVector object is returned. Additionally, the spatial data
 entity is written to file as type kml, and renamed with the project id +
 base file name + file extension (kml in this case).</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>create_spatialVector creates a EML spatialVector object from a
 spatial data object (shapefile, kml) that is read into the R environment.
 The function reads the attributes and classes contained within a supporting
 yaml file generated from the capeml::write_attributes function -
 create_spatialVector will look for a file in the working directory with a
 name of type spatialEntityName_attrs.yaml. Because all attributes written to
 a kml (the output of create_spatialVector are of type character, factors are
 not considered in this workflow). Note that this functionality is predicated
 on the existence of a file containing metadata about the attributes, that
 that file is in the working directory, and that the file matches the name of
 the spatial data entity precisely. In addition to generating a EML entity of
 type spatialVector, create_spatialVector writes the spatial entity in the R
 environment to file as type kml. Unless projectNaming is set to false, the
 output file is renamed with the file with project id + base file name + file
 extension (kml in this case).</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>create_spatialVector will look for a package number (packageNum) in
 config.yaml; this parameter is not passed to the function and it must exist.</p>
<p>create_spatialVector currently accepts an argument for a base url path
 to which the new file name will be appended so as to be a web-resolvable
 file; the package defaults to a URL specific to the CAP LTER.</p>
<p>Because file name metadata is incorporated into the kml generated from
 the sf::st_write function, including the md5 hash of the object in the file
 name sensu other products generated by capeml* packages is not feasible for
 spatialVector objects.</p>
<p>All vector objects are transformed to epsg 4326 (WGS 1984)</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>

<span class='co'># Load spatial vector object, here reading an existing kml file but this</span>
<span class='co'># could be by constructing a spatial object in R using any means.</span>
<span class='va'>msp_arthropod_locations</span> <span class='op'>&lt;-</span> <span class='fu'>sf</span><span class='fu'>::</span><span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_read.html'>st_read</a></span><span class='op'>(</span><span class='st'>"msp_arthropod_locations.kml"</span><span class='op'>)</span>

<span class='co'># The Name attribute of a kml file describes the points so be sure that this field is populated with meaninful data.</span>
<span class='va'>msp_arthropod_locations</span> <span class='op'>&lt;-</span> <span class='va'>msp_arthropod_locations</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>Name <span class='op'>=</span> <span class='va'>sampling_locations</span><span class='op'>)</span>

<span class='fu'>write_attributes</span><span class='op'>(</span><span class='va'>msp_arthropod_locations</span><span class='op'>)</span>

<span class='va'>msp_arthropod_locations_desc</span> <span class='op'>&lt;-</span> <span class='st'>"Geospatial file (KML) detailing the
locations of ground-dwelling arthropod sampling sites in the McDowell
Sonoran Preserve, Scottsdale, Arizona. Polygons reflect the bounding box
(minimum and maximum extents) of paired (boundary-interior) sampling
locations. Precise sampling locations are available upon request to the CAP
LTER Data Manager."</span>

<span class='va'>msp_arthropod_locations_SV</span> <span class='op'>&lt;-</span> <span class='fu'>create_spatialVector</span><span class='op'>(</span>
  svname <span class='op'>=</span> <span class='va'>msp_arthropod_locations</span>,
  description <span class='op'>=</span> <span class='va'>msp_arthropod_locations_desc</span>
<span class='op'>)</span>

<span class='co'># The resulting spatialVector entity can be added to a EML dataset</span>
<span class='op'>}</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by S Earl.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>



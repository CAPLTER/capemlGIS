<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CAP LTER package for generating EML spatialVector and spatialRaster
  metadata â€¢ capemlGIS</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="CAP LTER package for generating EML spatialVector and spatialRaster
  metadata">
<meta property="og:description" content="An extension of the CAPLTER/capeml package intended to facilitate
  the creation of EML spatialRaster and spatialVector metadata to support
  publishing spatial data and metadata resources in the Environmental Data
  Initiative (EDI) data repository. Functions and a workflow are included
  that allow for the creation of metadata for spatial vectors and rasters.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">capemlGIS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/create_spatialRaster.html">create_spatialRaster</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<hr>
<div id="output-github_document" class="section level2">
<h2 class="hasAnchor">
<a href="#output-github_document" class="anchor"></a>output: github_document</h2>
<!-- README.md is generated from README.Rmd. Please edit the latter. -->
</div>
<div id="capemlgis-tools-to-aid-the-generation-of-eml-metadata-for-spatial-vectors-and-rasters" class="section level2">
<h2 class="hasAnchor">
<a href="#capemlgis-tools-to-aid-the-generation-of-eml-metadata-for-spatial-vectors-and-rasters" class="anchor"></a>capemlGIS: tools to aid the generation of EML metadata for spatial vectors and rasters</h2>
<div id="overview" class="section level3">
<h3 class="hasAnchor">
<a href="#overview" class="anchor"></a>overview</h3>
<p>This package extends the <a href="https://github.com/CAPLTER/capeml">CAPLTER/capeml</a> package to facilitate the creation of EML spatialRaster and spatialVector metadata.</p>
</div>
<div id="installation" class="section level3">
<h3 class="hasAnchor">
<a href="#installation" class="anchor"></a>installation</h3>
<p>Install from GitHub (after installing the <a href="https://cran.r-project.org/web/packages/devtools/index.html">devtools</a> package:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"CAPLTER/capemlGIS"</span><span class="op">)</span></code></pre></div>
</div>
<div id="getting-started" class="section level3">
<h3 class="hasAnchor">
<a href="#getting-started" class="anchor"></a>getting started</h3>
<p>Creating a EML dataset starts with the <a href="https://github.com/CAPLTER/capeml">CAPLTER/capeml</a> package, <code>capemlGIS</code> is designed only to facilitate creating EML entities of type <code>spatialRaster</code> and <code>spatialVector</code>. Users should please start with the <code>capeml</code> workflow, including creating a <code>config.yaml</code> file that will feature project details that <code>spatialRaster</code> and <code>spatialVector</code> require for processing.</p>
</div>
<div id="options" class="section level3">
<h3 class="hasAnchor">
<a href="#options" class="anchor"></a>options</h3>
<div id="eml" class="section level4">
<h4 class="hasAnchor">
<a href="#eml" class="anchor"></a>EML</h4>
<p>This package defaults to the current version of EML. If desired, users can switch to the previous version with <code><a href="https://docs.ropensci.org/emld/reference/eml_version.html">emld::eml_version("eml-2.1.1")</a></code>.</p>
</div>
<div id="project-naming" class="section level4">
<h4 class="hasAnchor">
<a href="#project-naming" class="anchor"></a>project naming</h4>
<p>Most EML-generating functions in the capemlGIS package will create both physical objects and EML references to those objects with the format: <code>project-id</code>_<code>object-name</code>_<code>object-hash</code>.<code>file-extension</code> (e.g., <em>664_site_map_5fb7b8d53d48010eab1a2e73db7f1941.kml</em>). The target object (e.g., site_map.kml) is renamed with the additional metadata and this object name is referenced in the EML metadata. The exception to this approach are spatialVectors where the hash of the file/object is not included in the new object name. Note that the project-id is not passed to any of the functions, and must exist in <code>config.yaml</code> (as <code>projectid</code>).</p>
<p>Project-naming functionality can be turned off by setting the <code>projectNaming</code> option in <code><a href="reference/create_spatialRaster.html">create_spatialRaster()</a></code> to FALSE. When set to FALSE, the object name is not changed, and the file name of the object is included in the EML.</p>
</div>
</div>
<div id="tools-to-generate-entity-metadata" class="section level3">
<h3 class="hasAnchor">
<a href="#tools-to-generate-entity-metadata" class="anchor"></a>tools to generate entity metadata</h3>
<ul>
<li>
<code>write_attributes()</code> creates a template as a csv file for supplying attribute metadata for a spatial vector object that resides in the R environment</li>
<li>
<code><a href="reference/write_raster_factors.html">write_raster_factors()</a></code> creates a template as a csv file for supplying code definition metadata for spatial rasters if raster values are categorical</li>
</ul>
</div>
<div id="tools-to-create-eml-entities" class="section level3">
<h3 class="hasAnchor">
<a href="#tools-to-create-eml-entities" class="anchor"></a>tools to create EML entities</h3>
<ul>
<li>
<code><a href="reference/create_spatialRaster.html">create_spatialRaster()</a></code> creates a EML entity of type spatialRaster - see <a href="https://caplter.github.io/capeml/articles/create_spatialRaster.html">vignette</a> for more detail</li>
<li>
<code><a href="reference/create_spatialVector.html">create_spatialVector()</a></code> creates a EML entity of type <code>spatialVector</code>. Output includes:
<ul>
<li>EML entity of type <code>spatialVector</code> that can be added to a EML dataset</li>
<li>input data written to a kml file with project naming (if selected). Note that regardless of source type, all spatial vector input data are converted to type kml.</li>
</ul>
</li>
</ul>
</div>
<div id="overview-create-a-spatialvector" class="section level3">
<h3 class="hasAnchor">
<a href="#overview-create-a-spatialvector" class="anchor"></a>overview: create a spatialVector</h3>
<p><strong>example: myvector</strong></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Load spatial vector object, here reading an existing kml file but this</span>
<span class="co"># could be by constructing a spatial object in R using any means.</span>
<span class="va">msp_arthropod_locations</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html">st_read</a></span><span class="op">(</span><span class="st">"msp_arthropod_locations.kml"</span><span class="op">)</span>

<span class="co"># The 'Name' attribute of a kml file describes the points so be sure that this</span>
<span class="co"># field is populated with meaninful data.</span>
<span class="va">msp_arthropod_locations</span> <span class="op">&lt;-</span> <span class="va">msp_arthropod_locations</span> <span class="op">%&gt;%</span>
  <span class="fu">mutate</span><span class="op">(</span>Name <span class="op">=</span> <span class="va">sampling_locations</span><span class="op">)</span>

<span class="co"># Write the attributes to a file for editing. In the case of KML files, there</span>
<span class="co"># are many fields that max exist but are not used (e.g., elevation); metadata</span>
<span class="co"># for unused fields is not required and should be removed from the attributes</span>
<span class="co"># metadata (taking advantage of the less stringent error checking by PASTA+ of</span>
<span class="co"># spatial entities)</span>
<span class="fu">write_attributes</span><span class="op">(</span><span class="va">msp_arthropod_locations</span><span class="op">)</span>

<span class="co"># Create a description of the data entity</span>
<span class="va">msp_arthropod_locations_desc</span> <span class="op">&lt;-</span> <span class="st">"Geospatial file (KML) detailing the
locations of ground-dwelling arthropod sampling sites in the McDowell
Sonoran Preserve, Scottsdale, Arizona. Polygons reflect the bounding box
(minimum and maximum extents) of paired (boundary-interior) sampling
locations. Precise sampling locations are available upon request to the CAP
LTER Data Manager."</span>

<span class="co"># Generate EML object of type spatial vector, and write to file in KML format</span>
<span class="va">msp_arthropod_locations_SV</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/create_spatialVector.html">create_spatialVector</a></span><span class="op">(</span>
  svname <span class="op">=</span> <span class="va">msp_arthropod_locations</span>,
  description <span class="op">=</span> <span class="va">msp_arthropod_locations_desc</span>
<span class="op">)</span>

<span class="co"># The resulting spatialVector entity can be added to a EML dataset</span></code></pre></div>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>CC0</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>S Earl <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by S Earl.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
